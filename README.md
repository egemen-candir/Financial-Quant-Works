# üìä Financial-Quant-Works: Project Overview
This repository contains a collection of Python and Jupyter-based financial analysis tools, organized into topic-specific directories.

## üìÅ Directory Structure
```
Financial-Quant-Works/
‚îú‚îÄ‚îÄ AML_Works/                 # Notebooks for Anti-Money Laundering classification models
‚îÇ   ‚îú‚îÄ‚îÄ model-xgboost.ipynb    # XGBoost-based AML classification pipeline
‚îÇ   ‚îî‚îÄ‚îÄ model_log_reg.ipynb    # Logistic regression pipeline for AML use case
‚îú‚îÄ‚îÄ Misc/                      # Assorted financial utilities and models
‚îÇ   ‚îú‚îÄ‚îÄ Factor_MultiModel.ipynb# Multi-factor model using Bloomberg BQL & visualization
‚îÇ   ‚îú‚îÄ‚îÄ DTW_USDTRYvsTCMB.py    # DTW comparison of USD/TRY vs Turkish CB rate changes
‚îÇ   ‚îú‚îÄ‚îÄ deltaMAV_Foreks.py     # Live Excel-based moving average monitor for Turkish stocks
‚îÇ   ‚îî‚îÄ‚îÄ CA_Corp_Bonds.ipynb    # Canadian corporate bonds curve fitting analysis
‚îú‚îÄ‚îÄ tefas_fund_crawler.py      # Turkish mutual fund crawler via TEFAS
‚îú‚îÄ‚îÄ TCMBvsUSDTRY.xlsx          # Excel data used in DTW analysis
‚îî‚îÄ‚îÄ README.md / .gitignore     # Project meta files
```

## üìò Script & Notebook Summaries
### `tefas_fund_crawler.py`
*Location:* `Financial-Quant-Works/tefas_fund_crawler.py`

```python
# -*- coding: utf-8 -*-
"""TEFAS Fund Crawler.ipynb
Automatically generated by Colaboratory.
"""
from tefas import Crawler
import pandas as pd
import datetime
startDate = datetime.date(2020, 9, 1)
endDate = datetime.date(2023, 11, 11)
addDays = timedelta(days=30)
tefas = Crawler()
funds = ["KIE","KID","KIF","THD","KIA","KIB","ICF","ICD","ICC"]
f_cols = ["code","date","price","market_cap"]
df = pd.DataFrame()
f_list = []
```

### `model-xgboost.ipynb`
*Location:* `Financial-Quant-Works/AML_Works/model-xgboost.ipynb`

```python
import pandas as pd
import numpy as np
import xgboost as xgb
from sklearn.model_selection import train_test_split
from sklearn.preprocessing import LabelEncoder
from sklearn.metrics import classification_report, confusion_matrix, roc_auc_score, roc_curve
import matplotlib.pyplot as plt
import warnin
```

### `model_log_reg.ipynb`
*Location:* `Financial-Quant-Works/AML_Works/model_log_reg.ipynb`

```python
import pandas as pd
import numpy as np
from sklearn.model_selection import train_test_split
from sklearn.linear_model import LogisticRegression
from sklearn.preprocessing import StandardScaler, LabelEncoder
from sklearn.metrics import classification_report, confusion_matrix, roc_auc_score, roc_curve
```

### `Factor_MultiModel.ipynb`
*Location:* `Financial-Quant-Works/Misc/Factor_MultiModel.ipynb`

```python
import bql
import pandas as pd
import numpy as np
from itertools import islice
from datetime import datetime, timedelta
from bql.util import get_time_series
from collections import OrderedDict
import matplotlib.pyplot as plt

# Instantiate an object to interface with the BQL service
bq = bql.Service

import bqplot as bqp
import bqviz as bqv
from bqplot.interacts import BrushSelector
from bqwidgets import TickerAutoComplete
from bqviz import BarPlot, HistPlot
from collections import OrderedDict
from ipywidgets import *
from ipydatagrid import DataGrid, TextRenderer
from IPython.display import dis

#NECESSARY FUNCTIONS

#1: BQL rank function
def rank_func(factor):
      return factor.group().znav().rank().ungroup().applyPreferences(Currencycheck="ignore")
```

### `DTW_USDTRYvsTCMB.py`
*Location:* `Financial-Quant-Works/Misc/DTW_USDTRYvsTCMB.py`

```python
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from matplotlib.pyplot import figure
import seaborn as sns
import scipy.stats as stats
import dtw
from dtw import dtw,accelerated_dtw
figure(num=None, figsize=(12,12), dpi=200)
df = pd.read_excel(r'TCMBvsUSDTRY.xlsx')
d1 = df['USDTRY Chg'].interpolate().values
d2 = df['Rate Chg'].interpolate().values
d, cost_matrix, acc_cost_matrix, path = accelerated_dtw(d1,d2, dist='euclidean')
plt.imshow(acc_cost_matrix.T, origin='lower', cmap='gray', interpolation='nearest')
plt.plot(path[0], path[1], 'w')
```

### `deltaMAV_Foreks.py`
*Location:* `Financial-Quant-Works/Misc/deltaMAV_Foreks.py`

```python
import xlwings as xw
import time, datetime
import pandas as pd
import copy
import os
import matplotlib.pyplot as plt
from matplotlib.pyplot import figure
import seaborn as sns
#location of the source file
user_profile = os.environ['USERPROFILE']
user_algofolder = user_profile + "\Documents\Algo"
#read using xlWings
sheet = xw.Book(r''+user_algofolder+ '\XUSIN_Live_Foreks.xlsx').sheets['LiveStocks']
#define interval, number of rolling windows and iterations
#intervals in seconds. Ex: 10 sec inteval with 30 iterations will get 300 secs, ie, 5 mins data
```

### `CA_Corp_Bonds.ipynb`
*Location:* `Financial-Quant-Works/Misc/CA_Corp_Bonds.ipynb`

```python
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from scipy.optimize import curve_fit

df = pd.read_excel (r'C:\Users\egemen.candir\Documents\QuantWorks\CorpBonds.xlsx', sheet_name="Sheet3", index_col='ID')

df.head()
```
